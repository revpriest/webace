



TODO:
* Resizing window bug.
* Enable reset-email
* Re-Enable CSRF!
* Redo CSRF for multiple-windows.
* Reset amazon links to use affiliate links?

* Add auto-post-to-email
* Add auto-post-to-twitter
* Add auto-post-to-facebook
* Add avatar for those with certain nicks??
* Spam filters, inevitably, eventually.
* User-lists: view all stuff by this list of users
* View all stuff by top-rated?
  * Implies some rating stuff
* Clean up "commands" stuff, it needs a proper parser
  most likely, certainly at least each case calling a
  different function.





Blog Post Stuff:
 * Creating a new action with "zf create action" zapps all my out-of-function comments!
 * CSRF system won't allow two-window operation
   * May need to custom roll one
 * zend_db_Select for fetching rows
 * htmlpurifier
    * This is how we include it:
      $config = HTMLPurifier_Config::createDefault();
      $purifier = new HTMLPurifier($config);
      $config->set('HTML.Allowed', "a[href],b,i,strike,br,img[src|width|height]");
      $config->set('HTML.MaxImgLength' , 250);
      $config->set('CSS.MaxImgLength',"250px");
      $content = $purifier->purify( $content );
    * We allow links, CR etc, and images with max sizes.
      * Takes care of href=script attacks, images too
	large are removed in CSS, image-tag widths and
	heights are limited. 
  * Cross Origin Resource Sharing.
    When you launch webace from another domain, all the requests are send
    with Origin: headers, which we need to echo back with "Access-Control-Allow-Origin" headers
    There's a OPTIONS call before the POST call too.
    * Also need to add "WithCredentials" to the Ajax post.



